/**
 * Internationalization (i18n) support.
 * Provides Chinese and English translations for all UI strings.
 * Uses Map<string, string> for ArkTS compatibility (no indexed signatures).
 */

export type LangCode = 'zh' | 'en';

function buildZh(): Map<string, string> {
  let m = new Map<string, string>();
  // Tab bar
  m.set('tab.chat', 'èŠå¤©');
  m.set('tab.skills', 'æŠ€èƒ½');
  m.set('tab.memory', 'è®°å¿†');
  m.set('tab.settings', 'è®¾ç½®');

  // ChatPage
  m.set('chat.title', 'ClawdBot');
  m.set('chat.thinking', 'æ€è€ƒä¸­...');
  m.set('chat.online', 'åœ¨çº¿');
  m.set('chat.gatewayMode', 'ç½‘å…³æ¨¡å¼');
  m.set('chat.placeholder', 'å‘ ClawdBot æé—®...');
  m.set('chat.empty.subtitle', 'ä½ çš„ç§äººAIåŠ©æ‰‹ã€‚\néšæ—¶æé—®æˆ–åˆ†é…ä»»åŠ¡ã€‚');
  m.set('chat.quick.whatCanYouDo', 'ä½ èƒ½åšä»€ä¹ˆï¼Ÿ');
  m.set('chat.quick.setReminder', 'è®¾ç½®æé†’');
  m.set('chat.quick.searchWeb', 'æœç´¢ç½‘é¡µ');
  m.set('chat.quick.smartHome', 'æ™ºèƒ½å®¶å±…çŠ¶æ€');
  m.set('chat.toolResult', 'ç»“æœ');
  m.set('chat.notificationReceived', 'æ”¶åˆ°ç½‘å…³é€šçŸ¥');
  m.set('chat.notificationFrom', 'æ¥è‡ª');
  m.set('chat.approval.title', 'å·¥å…·å®¡æ‰¹è¯·æ±‚');
  m.set('chat.approval.command', 'å‘½ä»¤');
  m.set('chat.approval.host', 'ä¸»æœº');
  m.set('chat.approval.agent', 'Agent');
  m.set('chat.approval.allowOnce', 'å…è®¸ä¸€æ¬¡');
  m.set('chat.approval.allowAlways', 'å§‹ç»ˆå…è®¸');
  m.set('chat.approval.deny', 'æ‹’ç»');
  m.set('chat.approval.approved', 'å·²æ‰¹å‡†');
  m.set('chat.approval.denied', 'å·²æ‹’ç»');
  m.set('chat.approval.expired', 'å·²è¿‡æœŸ');
  m.set('chat.sharedContent', 'æ”¶åˆ°åˆ†äº«å†…å®¹');
  m.set('chat.sharedImage', 'æ”¶åˆ°åˆ†äº«å›¾ç‰‡');
  m.set('chat.playingAudio', 'æ­£åœ¨æ’­æ”¾éŸ³é¢‘...');
  m.set('chat.audioPlayed', 'éŸ³é¢‘å·²æ’­æ”¾');
  m.set('chat.audioFailed', 'éŸ³é¢‘æ’­æ”¾å¤±è´¥');
  m.set('chat.audioReady', 'ç‚¹å‡»æ’­æ”¾å½•éŸ³');
  m.set('chat.audioPlaying', 'æ­£åœ¨æ’­æ”¾...');
  m.set('chat.recording', 'æ­£åœ¨å½•éŸ³...');
  m.set('chat.voiceMessage', 'è¯­éŸ³æ¶ˆæ¯');
  m.set('chat.copy', 'å¤åˆ¶');
  m.set('chat.reply', 'å¼•ç”¨å›å¤');
  m.set('chat.newSession', 'æ–°å»ºä¼šè¯');
  m.set('chat.you', 'ä½ ');
  m.set('chat.voiceNoText', '[è¯­éŸ³æ¶ˆæ¯]');
  m.set('chat.speechError', 'è¯­éŸ³è¯†åˆ«å¤±è´¥');
  m.set('chat.rateLimited', 'å…è´¹æ¨¡å‹å·²è¾¾åˆ°é€Ÿç‡é™åˆ¶ï¼Œè¯·ç¨åé‡è¯•ã€‚\n\nå¦‚éœ€æ›´ç¨³å®šçš„æœåŠ¡ï¼Œè¯·æ³¨å†Œè‡ªå·±çš„ API Keyï¼š\n\nğŸ“ OpenRouter æ³¨å†Œæ­¥éª¤ï¼š\n1. æ‰“å¼€ openrouter.ai å¹¶ç‚¹å‡»æ³¨å†Œ\n2. ä½¿ç”¨ Google è´¦å·æˆ–é‚®ç®±æ³¨å†Œ\n3. æ³¨å†Œåè¿›å…¥ openrouter.ai/settings/keys\n4. ç‚¹å‡» "Create Key" åˆ›å»ºä¸€ä¸ªæ–°å¯†é’¥\n5. å¤åˆ¶å¯†é’¥ï¼Œå›åˆ°æœ¬ App çš„è®¾ç½®é¡µ\n6. åœ¨ "AI æä¾›å•†" é€‰æ‹© OpenRouter\n7. å°†å¯†é’¥ç²˜è´´åˆ° "API Key" è¾“å…¥æ¡†\n\nğŸ’¡ OpenRouter æä¾›å…è´¹å’Œä»˜è´¹æ¨¡å‹ï¼Œæ³¨å†Œåå…è´¹é¢åº¦æ›´é«˜ï¼Œä¹Ÿå¯æŒ‰éœ€å……å€¼ä½¿ç”¨ GPT-4oã€Claude ç­‰é«˜çº§æ¨¡å‹ã€‚');
  m.set('chat.ttsReading', 'ğŸ”Š æ­£åœ¨æœ—è¯»...');
  m.set('chat.ttsReadDone', 'ğŸ”Š å·²æœ—è¯»');
  m.set('chat.ttsReadFailed', 'æœ—è¯»å¤±è´¥');
  m.set('chat.conversationSaved', 'å¯¹è¯å·²ä¿å­˜');
  m.set('chat.memoryUpdated', 'è®°å¿†å·²æ›´æ–°');
  m.set('chat.history', 'å¯¹è¯å†å²');
  m.set('chat.historyEmpty', 'æš‚æ— å†å²å¯¹è¯');
  m.set('chat.back', 'è¿”å›');
  m.set('chat.deleteConfirm', 'ç¡®å®šåˆ é™¤è¿™æ¡å¯¹è¯è®°å½•ï¼Ÿ');
  m.set('chat.deleted', 'å·²åˆ é™¤');
  m.set('chat.extractMemory', 'æå–è®°å¿†');
  m.set('chat.extracting', 'æ­£åœ¨åˆ†æå¯¹è¯...');
  m.set('chat.memoryExtracted', 'æå–äº† {0} æ¡æ–°è®°å¿†');
  m.set('chat.noNewMemory', 'æœªå‘ç°æ–°è®°å¿†');
  m.set('chat.extractFailed', 'æå–å¤±è´¥');
  m.set('chat.exported', 'å·²å¤åˆ¶åˆ°å‰ªè´´æ¿');
  m.set('chat.compressing', 'æ­£åœ¨å‹ç¼©å¯¹è¯...');
  m.set('chat.compressed', 'å¯¹è¯å·²å‹ç¼©');
  m.set('chat.compressFailed', 'å‹ç¼©å¤±è´¥');
  m.set('chat.deleteHistoryConfirm', 'ç¡®å®šåˆ é™¤è¿™æ¡å†å²å¯¹è¯ï¼Ÿ');
  m.set('chat.historyDeleted', 'å·²åˆ é™¤');

  // Attachment & media
  m.set('chat.attachTitle', 'æ·»åŠ é™„ä»¶');
  m.set('chat.attachPhoto', 'é€‰æ‹©å›¾ç‰‡');
  m.set('chat.attachFile', 'é€‰æ‹©æ–‡ä»¶');
  m.set('chat.sentImage', '[å›¾ç‰‡]');
  m.set('chat.describeImage', 'è¯·æè¿°è¿™å¼ å›¾ç‰‡');
  m.set('chat.fileTooLarge', 'æ–‡ä»¶è¿‡å¤§ï¼ˆæœ€å¤§512KBï¼‰');

  // Custom provider & ASR
  m.set('settings.customProvider', 'å®šåˆ¶åŒ–');
  m.set('settings.aiEngine', 'AI å¼•æ“');
  m.set('settings.aiEngineDesc', 'è¯­éŸ³è¯†åˆ«ã€å‘é‡åµŒå…¥ã€æ„å›¾è¯†åˆ«');
  m.set('settings.aiEngineGatewayHint', 'å·²æ¥å…¥ç½‘å…³ï¼Œé»˜è®¤ä½¿ç”¨ç½‘å…³æ¨¡å‹');
  m.set('settings.aiEngineInheritHint', 'ä½¿ç”¨ä¸Šæ–¹ AI æä¾›å•†çš„ API Key');
  m.set('settings.asrModel', 'è¯­éŸ³è¯†åˆ«æ¨¡å‹');
  m.set('settings.asrModelPlaceholder', 'ç•™ç©ºä½¿ç”¨ç½‘å…³æ¨¡å‹');
  m.set('settings.asrModelHint', 'ç•™ç©º=ä½¿ç”¨ç½‘å…³å¤§æ¨¡å‹ï¼Œå¡«å†™=ä½¿ç”¨æŒ‡å®š ASR æ¨¡å‹');
  m.set('settings.asrMode', 'è¯­éŸ³è¯†åˆ«');
  m.set('settings.asrModeDesc', 'é€‰æ‹©è¯­éŸ³è¯†åˆ«æ–¹å¼');
  m.set('settings.asrModeAuto', 'è‡ªåŠ¨');
  m.set('settings.asrModeLocal', 'ä»…æœ¬åœ°');
  m.set('settings.asrModeCloud', 'ä»…äº‘ç«¯');
  m.set('settings.asrModeAutoDesc', 'ä¼˜å…ˆäº‘ç«¯è¯†åˆ«ï¼Œæ— APIæ—¶ä½¿ç”¨æœ¬åœ°');
  m.set('settings.asrModeLocalDesc', 'ä½¿ç”¨æœ¬åœ°ç¦»çº¿è¯†åˆ«ï¼ˆä»…ä¸­æ–‡ï¼‰');
  m.set('settings.asrModeCloudDesc', 'ä½¿ç”¨äº‘ç«¯è¯­éŸ³è¯†åˆ«æœåŠ¡');
  m.set('settings.embeddingMode', 'è¯­ä¹‰åµŒå…¥');
  m.set('settings.embeddingModeDesc', 'è®°å¿†æœç´¢ä½¿ç”¨çš„åµŒå…¥æ–¹å¼');
  m.set('settings.embeddingModeAuto', 'è‡ªåŠ¨');
  m.set('settings.embeddingModeLocal', 'ä»…æœ¬åœ°');
  m.set('settings.embeddingModeCloud', 'ä»…äº‘ç«¯');
  m.set('settings.embeddingModeAutoDesc', 'ä¼˜å…ˆæœ¬åœ° MiniLM æ¨¡å‹ï¼Œå¤±è´¥æ—¶ä½¿ç”¨äº‘ç«¯');
  m.set('settings.embeddingModeLocalDesc', 'ä½¿ç”¨æœ¬åœ° MiniLM æ¨¡å‹ï¼ˆæ— éœ€ç½‘ç»œï¼‰');
  m.set('settings.embeddingModeCloudDesc', 'ä½¿ç”¨ SiliconFlow bge-m3 äº‘ç«¯åµŒå…¥');
  m.set('settings.intentMode', 'æ„å›¾è¯†åˆ«');
  m.set('settings.intentModeDesc', 'ç”¨æˆ·æ„å›¾çš„è¯†åˆ«æ–¹å¼');
  m.set('settings.intentModeAuto', 'è‡ªåŠ¨');
  m.set('settings.intentModeLocal', 'ä»…æœ¬åœ°');
  m.set('settings.intentModeCloud', 'ä»…äº‘ç«¯');
  m.set('settings.intentModeAutoDesc', 'æœ¬åœ°å…³é”®è¯åŒ¹é… + LLM å·¥å…·è°ƒç”¨');
  m.set('settings.intentModeLocalDesc', 'ä»…ä½¿ç”¨æœ¬åœ°å…³é”®è¯åŒ¹é…ï¼ˆå¿«é€Ÿï¼Œç¦»çº¿ï¼‰');
  m.set('settings.intentModeCloudDesc', 'å®Œå…¨ä¾èµ– LLM è¯†åˆ«æ„å›¾å¹¶è°ƒç”¨å·¥å…·');

  // SettingsPage - Unread message notification
  m.set('settings.unreadNotification', 'æœªè¯»æ¶ˆæ¯é€šçŸ¥');
  m.set('settings.unreadNotificationDesc', 'å½“åº”ç”¨åœ¨åå°æ—¶ï¼Œæ–°æ¶ˆæ¯å°†æ˜¾ç¤ºåœ¨çŠ¶æ€æ ');

  // SettingsPage - TTS auto-read
  m.set('settings.ttsAutoRead', 'è¯­éŸ³æœ—è¯»');
  m.set('settings.ttsAutoReadDesc', 'è‡ªåŠ¨æœ—è¯» AI å›å¤ï¼ˆä½¿ç”¨æœ¬åœ° TTSï¼‰');

  // SettingsPage - Auto memory inject
  m.set('settings.autoMemoryInject', 'æ™ºèƒ½è®°å¿†æ³¨å…¥');
  m.set('settings.autoMemoryInjectDesc', 'å‘æ¶ˆæ¯æ—¶è‡ªåŠ¨åŒ¹é…ç›¸å…³è®°å¿†æ³¨å…¥ä¸Šä¸‹æ–‡');

  // SkillsPage
  m.set('skills.title', 'æŠ€èƒ½');
  m.set('skills.subtitle', 'å¼€å¯å†…ç½®æŠ€èƒ½ä»¥æ‰©å±• ClawdBot çš„èƒ½åŠ›ã€‚');
  m.set('skills.all', 'å…¨éƒ¨');
  m.set('skills.automation', 'è‡ªåŠ¨åŒ–');
  m.set('skills.productivity', 'æ•ˆç‡');
  m.set('skills.smartHome', 'æ™ºèƒ½å®¶å±…');
  m.set('skills.media', 'åª’ä½“');
  m.set('skills.countSkills', 'é¡¹æŠ€èƒ½');
  m.set('skills.countEnabled', 'å·²å¯ç”¨');
  m.set('skills.countTools', 'ä¸ªå·¥å…·');
  m.set('skills.builtin', 'å†…ç½®');

  // ExperiencePage
  m.set('experience.title', 'ç»éªŒ');
  m.set('experience.tabExperience', 'ç»éªŒåŒ…');
  m.set('experience.tabSkills', 'æŠ€èƒ½');
  m.set('experience.tabMemory', 'è®°å¿†');
  m.set('experience.countExp', 'æ¡ç»éªŒ');
  m.set('experience.countSkill', 'ä¸ªæŠ€èƒ½');
  m.set('experience.countMemory', 'æ¡è®°å¿†');
  m.set('experience.lastSync', 'ä¸Šæ¬¡åŒæ­¥');
  m.set('experience.levelPublic', 'å…¬å¼€');
  m.set('experience.levelSummary', 'æ‘˜è¦');
  m.set('experience.levelPrivate', 'ç§å¯†');
  m.set('experience.empty', 'æš‚æ— ç»éªŒ');
  m.set('experience.emptyHint', 'ç»éªŒä¼šåœ¨ä¸ AI äº¤äº’è¿‡ç¨‹ä¸­è‡ªåŠ¨å­¦ä¹ ');
  m.set('experience.skills', 'æŠ€èƒ½');
  m.set('experience.memories', 'è®°å¿†');
  m.set('experience.noSkills', 'æš‚æ— æŠ€èƒ½');
  m.set('experience.noMemory', 'æš‚æ— è®°å¿†');
  m.set('experience.createdAt', 'åˆ›å»ºæ—¶é—´');
  m.set('experience.updatedAt', 'æ›´æ–°æ—¶é—´');

  // MemoryPage
  m.set('memory.title', 'è®°å¿†');
  m.set('memory.subtitle', 'ClawdBot å¯ä»¥è·¨ä¼šè¯è®°ä½äº‹å®ã€åå¥½å’ŒæŒ‡ä»¤ã€‚');
  m.set('memory.add', '+ æ·»åŠ ');
  m.set('memory.save', 'ä¿å­˜');
  m.set('memory.all', 'å…¨éƒ¨');
  m.set('memory.fact', 'äº‹å®');
  m.set('memory.preference', 'åå¥½');
  m.set('memory.instruction', 'æŒ‡ä»¤');
  m.set('memory.entries', 'æ¡è®°å½•');
  m.set('memory.empty', 'æš‚æ— è®°å¿†');
  m.set('memory.searchPlaceholder', 'æœç´¢è®°å¿†...');
  m.set('memory.placeholder', 'ClawdBot éœ€è¦è®°ä½ä»€ä¹ˆï¼Ÿ');
  m.set('memory.clearTitle', 'æ¸…é™¤æ‰€æœ‰è®°å¿†');
  m.set('memory.clearMessage', 'ç¡®å®šè¦æ°¸ä¹…åˆ é™¤æ‰€æœ‰å­˜å‚¨çš„è®°å¿†å—ï¼Ÿ');
  m.set('memory.cancel', 'å–æ¶ˆ');
  m.set('memory.clear', 'æ¸…é™¤');
  m.set('memory.extractFromChat', 'ä»å¯¹è¯æå–');
  m.set('memory.extracting', 'æ­£åœ¨åˆ†æ...');
  m.set('memory.syncFromServer', 'ä»æœåŠ¡å™¨åŒæ­¥');
  m.set('memory.syncing', 'æ­£åœ¨åŒæ­¥...');
  m.set('memory.syncDone', 'åŒæ­¥å®Œæˆï¼Œæ–°å¢ {0} æ¡');
  m.set('memory.syncFailed', 'åŒæ­¥å¤±è´¥');
  m.set('memory.noMessages', 'å½“å‰å¯¹è¯ä¸ºç©º');
  m.set('memory.tabMemory', 'è®°å¿†');
  m.set('memory.tabHistory', 'å¯¹è¯å†å²');
  m.set('memory.noSessions', 'æš‚æ— å¯¹è¯è®°å½•');
  m.set('memory.messages', 'æ¡æ¶ˆæ¯');
  m.set('memory.backToList', 'è¿”å›åˆ—è¡¨');

  // SettingsPage - Soul
  m.set('settings.soul', 'äººæ ¼ / Soul');
  m.set('settings.soulDesc', 'å®šä¹‰ AI åŠ©æ‰‹çš„è¡Œä¸ºé£æ ¼å’Œäººæ ¼ç‰¹å¾ï¼Œæ³¨å…¥ system prompt');
  m.set('settings.soulReset', 'æ¢å¤é»˜è®¤');
  m.set('settings.soulResetDone', 'å·²æ¢å¤é»˜è®¤äººæ ¼');

  // SettingsPage
  m.set('settings.title', 'è®¾ç½®');
  m.set('settings.aiProvider', 'AI æœåŠ¡æä¾›å•†');
  m.set('settings.provider', 'æä¾›å•†');
  m.set('settings.apiKey', 'API å¯†é’¥');
  m.set('settings.apiKeyPlaceholder', 'è¾“å…¥ä½ çš„ API å¯†é’¥');
  m.set('settings.apiKeyNotRequired', 'æ— éœ€å¡«å†™');
  m.set('settings.show', 'æ˜¾ç¤º');
  m.set('settings.hide', 'éšè—');
  m.set('settings.model', 'æ¨¡å‹');
  m.set('settings.modelPlaceholder', 'æ¨¡å‹åç§°');
  m.set('settings.baseUrl', 'åŸºç¡€ URL');
  m.set('settings.baseUrlDesc', 'ç•™ç©ºä½¿ç”¨å®˜æ–¹ APIï¼Œå¡«å†™å¯ç”¨äºä»£ç†/ä¸­è½¬æœåŠ¡');
  m.set('settings.generation', 'ç”Ÿæˆå‚æ•°');
  m.set('settings.temperature', 'æ¸©åº¦');
  m.set('settings.gateway', 'ç½‘å…³ / èŠ‚ç‚¹æ¥å…¥');
  m.set('settings.gatewayConnect', 'æ¥å…¥ç½‘å…³');
  m.set('settings.gatewayConnectDesc', 'è¿æ¥åˆ° OpenClaw ç½‘å…³è¿›è¡Œ AI å¯¹è¯');
  m.set('settings.nodeMode', 'èŠ‚ç‚¹æ¥å…¥');
  m.set('settings.nodeModeDesc', 'è¿æ¥åˆ° OpenClaw ç½‘å…³');
  m.set('settings.gatewayHost', 'ç½‘å…³ä¸»æœº');
  m.set('settings.gatewayHostPlaceholder', '192.168.1.100 æˆ–ä¸»æœºå');
  m.set('settings.port', 'ç«¯å£');
  m.set('settings.useTls', 'ä½¿ç”¨ TLS (wss://)');
  m.set('settings.token', 'ä»¤ç‰Œ');
  m.set('settings.tokenDesc', 'OpenClaw ç½‘å…³çš„å…±äº«ä»¤ç‰Œ');
  m.set('settings.tokenPlaceholder', 'ä¾‹å¦‚ d71a61ab...');
  m.set('settings.password', 'å¯†ç ï¼ˆå¯é€‰ï¼‰');
  m.set('settings.passwordPlaceholder', 'ç½‘å…³å¯†ç ');
  m.set('settings.status', 'çŠ¶æ€');
  m.set('settings.connect', 'è¿æ¥');
  m.set('settings.disconnect', 'æ–­å¼€');
  m.set('settings.connected', 'å·²è¿æ¥');
  m.set('settings.connecting', 'è¿æ¥ä¸­...');
  m.set('settings.disconnected', 'æœªè¿æ¥');
  m.set('settings.reconnecting', 'é‡è¿ä¸­...');
  m.set('settings.connectionError', 'è¿æ¥é”™è¯¯');
  m.set('settings.pairingPending', 'ç­‰å¾…æ‰¹å‡†é…å¯¹');
  m.set('settings.parallelSessions', 'å¹¶è¡Œä¼šè¯æ•°');
  m.set('settings.parallelSessionsDesc', 'âš ï¸ å¢å¤§æ­¤å€¼ä¼šåŠ å¿« Token æ¶ˆè€—é€Ÿåº¦');
  m.set('settings.caps', 'æœ¬æœºèƒ½åŠ›');
  m.set('settings.capLocation', 'å®šä½ (GPS)');
  m.set('settings.capCamera', 'ç›¸æœº (æ‹ç…§/å½•åƒ)');
  m.set('settings.capCanvas', 'ç”»å¸ƒ (WebView)');
  m.set('settings.capScreen', 'æˆªå±/å½•å±');
  m.set('settings.capNotification', 'é€šçŸ¥');
  m.set('settings.capMicrophone', 'éº¦å…‹é£ (å½•éŸ³)');
  m.set('settings.capSpeaker', 'éŸ³ç®± (æœ—è¯»/æ’­æ”¾)');
  m.set('settings.capEmail', 'é‚®ä»¶ (å‘é€)');
  m.set('settings.about', 'å…³äº');
  m.set('settings.app', 'åº”ç”¨');
  m.set('settings.appValue', 'ClawdBot for HarmonyOS');
  m.set('settings.appName', 'åº”ç”¨åç§°');
  m.set('settings.version', 'ç‰ˆæœ¬');
  m.set('settings.developer', 'å¼€å‘è€…');
  m.set('settings.basedOn', 'åŸºäº');
  m.set('settings.platform', 'å¹³å°');
  m.set('settings.systemStatus', 'ç³»ç»ŸçŠ¶æ€');
  m.set('settings.gatewayStatus', 'ç½‘å…³çŠ¶æ€');
  m.set('settings.activeSessions', 'æ´»åŠ¨ä¼šè¯');
  m.set('settings.memoryUsage', 'å†…å­˜å ç”¨');
  m.set('settings.tokenUsage', 'Token æ¶ˆè€—');
  m.set('settings.save', 'ä¿å­˜è®¾ç½®');
  m.set('settings.saved', 'è®¾ç½®å·²ä¿å­˜');
  m.set('settings.saveFailed', 'ä¿å­˜å¤±è´¥ï¼š');
  m.set('settings.enterHost', 'è¯·è¾“å…¥ç½‘å…³ä¸»æœº');
  m.set('settings.language', 'è¯­è¨€');
  m.set('settings.languageDesc', 'ç•Œé¢æ˜¾ç¤ºè¯­è¨€');
  m.set('settings.langZh', 'ä¸­æ–‡');
  m.set('settings.langEn', 'English');

  // Settings - Assistant
  m.set('settings.assistant', 'AI åŠ©æ‰‹');
  m.set('settings.assistantName', 'åŠ©æ‰‹åå­—');
  m.set('settings.assistantNamePlaceholder', 'è¾“å…¥åŠ©æ‰‹åå­—');
  m.set('settings.assistantAvatar', 'å¤´åƒ');
  m.set('settings.assistantAvatarChange', 'ç‚¹å‡»æ›´æ¢å¤´åƒ');
  m.set('settings.gatewayBot', 'ç½‘å…³ Botï¼ˆå·²è¿æ¥ï¼‰');

  // LogPage
  m.set('tab.logs', 'æ—¥å¿—');
  m.set('log.title', 'è¿è¡Œæ—¥å¿—');
  m.set('log.clear', 'æ¸…é™¤');
  m.set('log.entries', 'æ¡');
  m.set('log.empty', 'æš‚æ— æ—¥å¿—');
  m.set('log.copy', 'å¤åˆ¶');
  m.set('log.export', 'å¯¼å‡º');
  m.set('log.copied', 'å·²å¤åˆ¶åˆ°å‰ªè´´æ¿');
  m.set('log.exported', 'å·²å¯¼å‡ºåˆ°æ–‡ä»¶');
  m.set('log.exportFail', 'å¯¼å‡ºå¤±è´¥');
  m.set('log.recording', 'è®°å½•ä¸­');
  m.set('log.readMore', 'å±•å¼€');
  m.set('log.showLess', 'æ”¶èµ·');
  m.set('log.filePath', 'æ–‡ä»¶è·¯å¾„');

  m.set('settings.gatewayAddress', 'ç½‘å…³åœ°å€');

  // Cron
  m.set('cron.executing', 'æ­£åœ¨æ‰§è¡Œå®šæ—¶ä»»åŠ¡...');
  m.set('cron.created', 'å®šæ—¶ä»»åŠ¡å·²åˆ›å»º');
  m.set('cron.cancelled', 'å®šæ—¶ä»»åŠ¡å·²å–æ¶ˆ');
  m.set('cron.notFound', 'æœªæ‰¾åˆ°è¯¥å®šæ—¶ä»»åŠ¡');
  m.set('cron.noTasks', 'æš‚æ— å®šæ—¶ä»»åŠ¡');

  // Talk Mode
  m.set('chat.talkMode', 'å¯¹è¯æ¨¡å¼');
  m.set('chat.talkModeOn', 'å¯¹è¯æ¨¡å¼å·²å¼€å¯');
  m.set('chat.talkModeOff', 'å¯¹è¯æ¨¡å¼å·²å…³é—­');
  m.set('chat.talkListening', 'æ­£åœ¨è†å¬...');
  m.set('chat.talkRecognizing', 'è¯­éŸ³è¯†åˆ«');
  m.set('chat.talkThinking', 'æ­£åœ¨æ€è€ƒ...');
  m.set('chat.talkSpeaking', 'æ­£åœ¨è¯´è¯...');
  m.set('chat.talkSilence', 'é™é»˜è¶…æ—¶ï¼Œå¯¹è¯æ¨¡å¼å·²å…³é—­');

  // Custom Skills
  m.set('skills.custom', 'è‡ªå®šä¹‰');
  m.set('skills.customSkill', 'è‡ªå®šä¹‰æŠ€èƒ½');
  m.set('skills.created', 'æŠ€èƒ½å·²åˆ›å»º');
  m.set('skills.updated', 'æŠ€èƒ½å·²æ›´æ–°');
  m.set('skills.deleted', 'æŠ€èƒ½å·²åˆ é™¤');

  // Email / IMAP
  m.set('settings.email', 'é‚®ç®± / IMAP & SMTP');
  m.set('settings.emailEnabled', 'å¯ç”¨é‚®ç®±');
  m.set('settings.emailEnabledDesc', 'é€šè¿‡ IMAP è¯»å–é‚®ä»¶ï¼ŒSMTP å‘é€é‚®ä»¶');
  m.set('settings.imapHost', 'IMAP æœåŠ¡å™¨');
  m.set('settings.imapPort', 'ç«¯å£');
  m.set('settings.imapUser', 'é‚®ç®±åœ°å€');
  m.set('settings.imapPass', 'å¯†ç  / åº”ç”¨ä¸“ç”¨å¯†ç ');
  m.set('settings.smtpHost', 'SMTP æœåŠ¡å™¨');
  m.set('settings.smtpPort', 'ç«¯å£');
  m.set('settings.emailTest', 'æµ‹è¯•è¿æ¥');
  m.set('settings.emailTesting', 'è¿æ¥ä¸­...');
  m.set('settings.emailTestOk', 'è¿æ¥æˆåŠŸ');
  m.set('settings.emailTestFail', 'è¿æ¥å¤±è´¥ï¼š');

  // Settings tabs
  m.set('settings.tabOperator', 'AIåŠ©ç†');
  m.set('settings.tabNode', 'èŠ‚ç‚¹æ¥å…¥');
  m.set('settings.tabService', 'æœåŠ¡æ¨¡å¼');
  m.set('settings.tabModel', 'æ¨¡å‹');

  // Profiles
  m.set('settings.profiles', 'é…ç½®æ–¹æ¡ˆ');
  m.set('settings.profileSave', 'ä¿å­˜å½“å‰é…ç½®');
  m.set('settings.profileLoad', 'åŠ è½½');
  m.set('settings.profileDelete', 'åˆ é™¤');
  m.set('settings.profileName', 'é…ç½®åç§°');
  m.set('settings.profileNamePlaceholder', 'è¾“å…¥é…ç½®åç§°...');
  m.set('settings.profileSaved', 'é…ç½®å·²ä¿å­˜');
  m.set('settings.profileLoaded', 'é…ç½®å·²åŠ è½½');
  m.set('settings.profileDeleted', 'é…ç½®å·²åˆ é™¤');
  m.set('settings.profileEmpty', 'æš‚æ— ä¿å­˜çš„é…ç½®');

  // Feishu Bot
  m.set('settings.feishu', 'é£ä¹¦æœºå™¨äºº');
  m.set('settings.feishuEnabled', 'å¯ç”¨é£ä¹¦æœºå™¨äºº');
  m.set('settings.feishuEnabledDesc', 'é€šè¿‡WebSocketæ¥æ”¶é£ä¹¦æ¶ˆæ¯å¹¶è‡ªåŠ¨å›å¤');
  m.set('settings.feishuAppId', 'App ID');
  m.set('settings.feishuAppSecret', 'App Secret');
  m.set('settings.feishuTest', 'æµ‹è¯•è¿æ¥');
  m.set('settings.feishuTesting', 'æ­£åœ¨è¿æ¥...');
  m.set('settings.feishuTestOk', 'è¿æ¥æˆåŠŸ');
  m.set('settings.feishuTestFail', 'è¿æ¥å¤±è´¥ï¼š');
  m.set('chat.feishuMessage', 'é£ä¹¦æ¶ˆæ¯');
  m.set('chat.feishuReply', 'é£ä¹¦å›å¤');

  // Connection states
  m.set('state.offline', 'ç¦»çº¿');
  m.set('state.connecting', 'è¿æ¥ä¸­...');
  m.set('state.connected', 'å·²è¿æ¥');
  m.set('state.reconnecting', 'é‡è¿ä¸­...');
  m.set('state.error', 'é”™è¯¯');

  // Sessions
  m.set('session.title', 'å¯¹è¯');
  m.set('session.new', 'æ–°å¯¹è¯');
  m.set('session.default', 'é»˜è®¤å¯¹è¯');
  m.set('session.close', 'å…³é—­');
  m.set('session.closeConfirm', 'å…³é—­æ­¤å¯¹è¯ï¼Ÿå¯¹è¯å†å²å°†ä¿ç•™ã€‚');
  m.set('session.closed', 'å·²å…³é—­');
  m.set('session.closedTag', 'å·²å…³é—­');
  m.set('session.delete', 'åˆ é™¤');
  m.set('session.deleteConfirm', 'ç¡®å®šåˆ é™¤æ­¤å¯¹è¯ï¼Ÿ');
  m.set('session.deleted', 'å·²åˆ é™¤');
  m.set('session.rename', 'é‡å‘½å');
  m.set('session.renameTitle', 'é‡å‘½åå¯¹è¯');
  m.set('session.renamePlaceholder', 'è¾“å…¥æ–°åç§°...');
  m.set('session.pin', 'ç½®é¡¶');
  m.set('session.unpin', 'å–æ¶ˆç½®é¡¶');
  m.set('session.clear', 'æ¸…ç©ºæ¶ˆæ¯');
  m.set('session.clearConfirm', 'ç¡®å®šæ¸…ç©ºæ­¤å¯¹è¯çš„æ‰€æœ‰æ¶ˆæ¯ï¼Ÿ');
  m.set('session.cleared', 'å·²æ¸…ç©º');
  m.set('session.cannotDeleteLast', 'æ— æ³•åˆ é™¤æœ€åä¸€ä¸ªå¯¹è¯');
  m.set('memory.deleteSession', 'åˆ é™¤å¯¹è¯');
  m.set('memory.deleteSessionConfirm', 'ç¡®å®šæ°¸ä¹…åˆ é™¤æ­¤å¯¹è¯åŠæ‰€æœ‰å†å²æ¶ˆæ¯ï¼Ÿæ­¤æ“ä½œä¸å¯æ¢å¤ã€‚');

  // Queue
  m.set('queue.pending', 'æ’é˜Ÿä¸­');
  m.set('queue.failed', 'å‘é€å¤±è´¥');
  m.set('queue.resend', 'é‡æ–°å‘é€');
  m.set('queue.delete', 'åˆ é™¤');
  m.set('queue.resendAll', 'å…¨éƒ¨é‡å‘');
  m.set('queue.clearAll', 'å…¨éƒ¨æ¸…é™¤');
  m.set('queue.banner', 'æœ‰ {0} æ¡æ’é˜Ÿæ¶ˆæ¯');

  // Session Management
  m.set('settings.sessionManagement', 'ä¼šè¯ç®¡ç†');
  m.set('settings.parallelSessions', 'å¹¶è¡Œä¼šè¯');
  m.set('settings.parallelSessionsDesc', 'å…è®¸å¤šä¸ªä¼šè¯åŒæ—¶ä¸ AI å¯¹è¯');
  m.set('settings.idleTimeout', 'é—²ç½®å…³é—­');
  m.set('settings.idleTimeoutDesc', 'è¶…è¿‡æ­¤æ—¶é—´æœªæ´»åŠ¨çš„ä¼šè¯å°†è‡ªåŠ¨å…³é—­');
  m.set('settings.minutes', 'åˆ†é’Ÿ');

  // Voiceprint
  m.set('voiceprint.title', 'å£°çº¹ç®¡ç†');
  m.set('voiceprint.speakerCount', 'ä½è¯´è¯äºº');
  m.set('voiceprint.empty', 'æš‚æ— æ³¨å†Œå£°çº¹');
  m.set('voiceprint.samples', 'ä¸ªæ ·æœ¬');
  m.set('voiceprint.remove', 'åˆ é™¤');
  m.set('voiceprint.enroll', 'æ³¨å†Œæ–°å£°çº¹');
  m.set('voiceprint.enterName', 'è¯·è¾“å…¥è¯´è¯äººåç§°');
  m.set('voiceprint.namePlaceholder', 'ä¾‹å¦‚ï¼šå°æ˜');
  m.set('voiceprint.nameExists', 'è¯¥åç§°å·²æ³¨å†Œ');
  m.set('voiceprint.next', 'ä¸‹ä¸€æ­¥');
  m.set('voiceprint.cancel', 'å–æ¶ˆ');
  m.set('voiceprint.recordStep', 'å½•åˆ¶è¯­éŸ³æ ·æœ¬');
  m.set('voiceprint.readAloud', 'è¯·æœ—è¯»ä»¥ä¸‹æ–‡å­—ï¼š');
  m.set('voiceprint.recording', 'å½•éŸ³ä¸­...');
  m.set('voiceprint.startRecord', 'å¼€å§‹å½•éŸ³');
  m.set('voiceprint.tooShort', 'å½•éŸ³å¤ªçŸ­ï¼Œè¯·é‡è¯•');
  m.set('voiceprint.sampleOk', 'æ ·æœ¬å½•åˆ¶æˆåŠŸ');
  m.set('voiceprint.processing', 'æ­£åœ¨å¤„ç†...');
  m.set('voiceprint.success', 'å£°çº¹æ³¨å†ŒæˆåŠŸ');
  m.set('voiceprint.enrollFailed', 'å£°çº¹æ³¨å†Œå¤±è´¥');
  m.set('voiceprint.recordFailed', 'å½•éŸ³å¤±è´¥');
  m.set('voiceprint.done', 'å®Œæˆ');
  m.set('voiceprint.deleteConfirm', 'ç¡®å®šåˆ é™¤ {0} çš„å£°çº¹ï¼Ÿ');
  m.set('voiceprint.confirmDelete', 'ç¡®è®¤åˆ é™¤');
  m.set('voiceprint.removed', 'å£°çº¹å·²åˆ é™¤');
  m.set('settings.voiceprint', 'å£°çº¹è¯†åˆ«');
  m.set('settings.voiceprintDesc', 'æœ¬åœ°å£°çº¹æ³¨å†Œä¸è¯†åˆ«');

  // Silent Mode
  m.set('silent.title', 'é™é»˜è®°å½•');
  m.set('silent.start', 'å¼€å§‹è®°å½•');
  m.set('silent.stop', 'åœæ­¢è®°å½•');
  m.set('silent.recording', 'æ­£åœ¨è®°å½•ä¸­...');
  m.set('silent.empty', 'æš‚æ— å¯¹è¯è®°å½•');
  m.set('silent.entries', 'æ¡è¯­éŸ³');
  m.set('silent.summary', 'æ‘˜è¦');
  m.set('silent.transcript', 'å¯¹è¯è®°å½•');
  m.set('silent.participants', 'å‚ä¸è€…');
  m.set('silent.duration', 'æ—¶é•¿');
  m.set('silent.deleteConfirm', 'ç¡®å®šåˆ é™¤æ­¤å¯¹è¯è®°å½•ï¼Ÿ');
  m.set('silent.deleted', 'å·²åˆ é™¤');
  m.set('silent.noSpeech', 'æœªæ£€æµ‹åˆ°è¯­éŸ³');
  m.set('silent.summarizing', 'æ­£åœ¨ç”Ÿæˆæ‘˜è¦...');
  m.set('silent.completed', 'å·²å®Œæˆ');
  m.set('silent.error', 'è®°å½•å‡ºé”™');
  m.set('settings.silentMode', 'é™é»˜è®°å½•');
  m.set('settings.silentModeDesc', 'åå°å½•éŸ³ï¼Œè‡ªåŠ¨è¯†åˆ«è¯´è¯äººå¹¶è½¬å†™');

  return m;
}

function buildEn(): Map<string, string> {
  let m = new Map<string, string>();
  // Tab bar
  m.set('tab.chat', 'Chat');
  m.set('tab.skills', 'Skills');
  m.set('tab.memory', 'Memory');
  m.set('tab.settings', 'Settings');

  // ChatPage
  m.set('chat.title', 'ClawdBot');
  m.set('chat.thinking', 'Thinking...');
  m.set('chat.online', 'Online');
  m.set('chat.gatewayMode', 'Gateway Mode');
  m.set('chat.placeholder', 'Ask ClawdBot anything...');
  m.set('chat.empty.subtitle', 'Your personal AI assistant.\nAsk me anything or give me a task.');
  m.set('chat.quick.whatCanYouDo', 'What can you do?');
  m.set('chat.quick.setReminder', 'Set a reminder');
  m.set('chat.quick.searchWeb', 'Search the web');
  m.set('chat.quick.smartHome', 'Smart home status');
  m.set('chat.toolResult', 'result');
  m.set('chat.notificationReceived', 'Gateway Notification');
  m.set('chat.notificationFrom', 'From');
  m.set('chat.approval.title', 'Tool Approval Required');
  m.set('chat.approval.command', 'Command');
  m.set('chat.approval.host', 'Host');
  m.set('chat.approval.agent', 'Agent');
  m.set('chat.approval.allowOnce', 'Allow once');
  m.set('chat.approval.allowAlways', 'Always allow');
  m.set('chat.approval.deny', 'Deny');
  m.set('chat.approval.approved', 'Approved');
  m.set('chat.approval.denied', 'Denied');
  m.set('chat.approval.expired', 'Expired');
  m.set('chat.sharedContent', 'Shared content received');
  m.set('chat.sharedImage', 'Shared image received');
  m.set('chat.playingAudio', 'Playing audio...');
  m.set('chat.audioPlayed', 'Audio played');
  m.set('chat.audioFailed', 'Audio playback failed');
  m.set('chat.audioReady', 'Tap to play recording');
  m.set('chat.audioPlaying', 'Playing...');
  m.set('chat.recording', 'Recording...');
  m.set('chat.voiceMessage', 'Voice message');
  m.set('chat.copy', 'Copy');
  m.set('chat.reply', 'Reply');
  m.set('chat.newSession', 'New Session');
  m.set('chat.you', 'You');
  m.set('chat.voiceNoText', '[Voice message]');
  m.set('chat.speechError', 'Speech recognition failed');
  m.set('chat.rateLimited', 'Free model rate limited. Please retry shortly.\n\nFor stable service, register your own API Key:\n\nğŸ“ OpenRouter Registration:\n1. Go to openrouter.ai and sign up\n2. Register with Google or email\n3. After sign-up, go to openrouter.ai/settings/keys\n4. Click "Create Key" to generate a new key\n5. Copy the key, then open Settings in this app\n6. Select "OpenRouter" as AI Provider\n7. Paste the key into the "API Key" field\n\nğŸ’¡ OpenRouter offers free and paid models. After registration you get higher free limits, and can top up to use premium models like GPT-4o, Claude, etc.');
  m.set('chat.ttsReading', 'ğŸ”Š Reading aloud...');
  m.set('chat.ttsReadDone', 'ğŸ”Š Read aloud');
  m.set('chat.ttsReadFailed', 'TTS read failed');
  m.set('chat.conversationSaved', 'Conversation saved');
  m.set('chat.memoryUpdated', 'Memory updated');
  m.set('chat.history', 'Chat History');
  m.set('chat.historyEmpty', 'No saved conversations');
  m.set('chat.back', 'Back');
  m.set('chat.deleteConfirm', 'Delete this conversation?');
  m.set('chat.deleted', 'Deleted');
  m.set('chat.extractMemory', 'Extract Memory');
  m.set('chat.extracting', 'Analyzing conversation...');
  m.set('chat.memoryExtracted', 'Extracted {0} new memories');
  m.set('chat.noNewMemory', 'No new memories found');
  m.set('chat.extractFailed', 'Extract failed');
  m.set('chat.exported', 'Copied to clipboard');
  m.set('chat.compressing', 'Compressing conversation...');
  m.set('chat.compressed', 'Conversation compressed');
  m.set('chat.compressFailed', 'Compress failed');
  m.set('chat.deleteHistoryConfirm', 'Delete this conversation?');
  m.set('chat.historyDeleted', 'Deleted');

  // Attachment & media
  m.set('chat.attachTitle', 'Add Attachment');
  m.set('chat.attachPhoto', 'Choose Photo');
  m.set('chat.attachFile', 'Choose File');
  m.set('chat.sentImage', '[Image]');
  m.set('chat.describeImage', 'Please describe this image');
  m.set('chat.fileTooLarge', 'File too large (max 512KB)');

  // Custom provider & ASR
  m.set('settings.customProvider', 'Custom');
  m.set('settings.aiEngine', 'AI Engine');
  m.set('settings.aiEngineDesc', 'ASR, Embedding, Intent Recognition');
  m.set('settings.aiEngineGatewayHint', 'Gateway connected, using gateway models');
  m.set('settings.aiEngineInheritHint', 'Uses API Key from AI Provider above');
  m.set('settings.asrModel', 'ASR Model');
  m.set('settings.asrModelPlaceholder', 'Empty = use gateway model');
  m.set('settings.asrModelHint', 'Empty = gateway LLM, filled = dedicated ASR model');
  m.set('settings.asrMode', 'Speech Recognition');
  m.set('settings.asrModeDesc', 'Choose speech recognition method');
  m.set('settings.asrModeAuto', 'Auto');
  m.set('settings.asrModeLocal', 'Local Only');
  m.set('settings.asrModeCloud', 'Cloud Only');
  m.set('settings.asrModeAutoDesc', 'Cloud first, local fallback when offline');
  m.set('settings.asrModeLocalDesc', 'Use local offline recognition (Chinese only)');
  m.set('settings.asrModeCloudDesc', 'Use cloud speech recognition service');
  m.set('settings.embeddingMode', 'Embedding');
  m.set('settings.embeddingModeDesc', 'Embedding method for memory search');
  m.set('settings.embeddingModeAuto', 'Auto');
  m.set('settings.embeddingModeLocal', 'Local Only');
  m.set('settings.embeddingModeCloud', 'Cloud Only');
  m.set('settings.embeddingModeAutoDesc', 'Local MiniLM first, cloud fallback');
  m.set('settings.embeddingModeLocalDesc', 'Use local MiniLM model (offline)');
  m.set('settings.embeddingModeCloudDesc', 'Use SiliconFlow bge-m3 cloud embedding');
  m.set('settings.intentMode', 'Intent Detection');
  m.set('settings.intentModeDesc', 'User intent recognition method');
  m.set('settings.intentModeAuto', 'Auto');
  m.set('settings.intentModeLocal', 'Local Only');
  m.set('settings.intentModeCloud', 'Cloud Only');
  m.set('settings.intentModeAutoDesc', 'Local keyword match + LLM tool calls');
  m.set('settings.intentModeLocalDesc', 'Local keyword matching only (fast, offline)');
  m.set('settings.intentModeCloudDesc', 'Rely on LLM for intent recognition and tool calls');

  // SettingsPage - Unread message notification
  m.set('settings.unreadNotification', 'Unread Notifications');
  m.set('settings.unreadNotificationDesc', 'Show new messages in status bar when app is in background');

  // SettingsPage - TTS auto-read
  m.set('settings.ttsAutoRead', 'Auto Read Aloud');
  m.set('settings.ttsAutoReadDesc', 'Auto read AI responses aloud (local TTS)');

  // SettingsPage - Auto memory inject
  m.set('settings.autoMemoryInject', 'Smart Memory Inject');
  m.set('settings.autoMemoryInjectDesc', 'Auto-inject relevant memories when sending messages');

  // SkillsPage
  m.set('skills.title', 'Skills');
  m.set('skills.subtitle', "Toggle built-in skills to expand ClawdBot's capabilities.");
  m.set('skills.all', 'All');
  m.set('skills.automation', 'Automation');
  m.set('skills.productivity', 'Productivity');
  m.set('skills.smartHome', 'Smart Home');
  m.set('skills.media', 'Media');
  m.set('skills.countSkills', ' skills');
  m.set('skills.countEnabled', ' enabled');
  m.set('skills.countTools', ' tools');
  m.set('skills.builtin', 'Built-in');

  // ExperiencePage
  m.set('experience.title', 'Experience');
  m.set('experience.tabExperience', 'Experience');
  m.set('experience.tabSkills', 'Skills');
  m.set('experience.tabMemory', 'Memory');
  m.set('experience.countExp', ' experiences');
  m.set('experience.countSkill', ' skills');
  m.set('experience.countMemory', ' memories');
  m.set('experience.lastSync', 'Last sync');
  m.set('experience.levelPublic', 'Public');
  m.set('experience.levelSummary', 'Summary');
  m.set('experience.levelPrivate', 'Private');
  m.set('experience.empty', 'No experiences');
  m.set('experience.emptyHint', 'Experiences will be learned during AI interactions');
  m.set('experience.skills', 'Skills');
  m.set('experience.memories', 'Memories');
  m.set('experience.noSkills', 'No skills');
  m.set('experience.noMemory', 'No memories');
  m.set('experience.createdAt', 'Created');
  m.set('experience.updatedAt', 'Updated');

  // MemoryPage
  m.set('memory.title', 'Memory');
  m.set('memory.subtitle', 'ClawdBot remembers facts, preferences, and instructions across sessions.');
  m.set('memory.add', '+ Add');
  m.set('memory.save', 'Save');
  m.set('memory.all', 'All');
  m.set('memory.fact', 'fact');
  m.set('memory.preference', 'preference');
  m.set('memory.instruction', 'instruction');
  m.set('memory.entries', ' entries');
  m.set('memory.empty', 'No memories yet');
  m.set('memory.searchPlaceholder', 'Search memories...');
  m.set('memory.placeholder', 'What should ClawdBot remember?');
  m.set('memory.clearTitle', 'Clear All Memory');
  m.set('memory.clearMessage', 'Permanently delete all stored memories?');
  m.set('memory.cancel', 'Cancel');
  m.set('memory.clear', 'Clear');
  m.set('memory.extractFromChat', 'Extract from Chat');
  m.set('memory.extracting', 'Analyzing...');
  m.set('memory.syncFromServer', 'Sync from Server');
  m.set('memory.syncing', 'Syncing...');
  m.set('memory.syncDone', 'Synced, {0} new items');
  m.set('memory.syncFailed', 'Sync failed');
  m.set('memory.noMessages', 'No messages in current chat');
  m.set('memory.tabMemory', 'Memory');
  m.set('memory.tabHistory', 'Chat History');
  m.set('memory.noSessions', 'No conversations yet');
  m.set('memory.messages', ' messages');
  m.set('memory.backToList', 'Back');

  // SettingsPage - Soul
  m.set('settings.soul', 'SOUL / PERSONALITY');
  m.set('settings.soulDesc', 'Define AI behavior style and personality, injected into system prompt');
  m.set('settings.soulReset', 'Reset to Default');
  m.set('settings.soulResetDone', 'Soul reset to default');

  // SettingsPage
  m.set('settings.title', 'Settings');
  m.set('settings.aiProvider', 'AI PROVIDER');
  m.set('settings.provider', 'Provider');
  m.set('settings.apiKey', 'API Key');
  m.set('settings.apiKeyPlaceholder', 'Enter your API key');
  m.set('settings.apiKeyNotRequired', 'Not required');
  m.set('settings.show', 'Show');
  m.set('settings.hide', 'Hide');
  m.set('settings.model', 'Model');
  m.set('settings.modelPlaceholder', 'Model name');
  m.set('settings.baseUrl', 'Base URL');
  m.set('settings.baseUrlDesc', 'Leave empty for official API, or enter proxy/relay URL');
  m.set('settings.generation', 'GENERATION');
  m.set('settings.temperature', 'Temperature');
  m.set('settings.gateway', 'GATEWAY / NODE MODE');
  m.set('settings.nodeMode', 'Node Mode');
  m.set('settings.nodeModeDesc', 'Connect to OpenClaw Gateway');
  m.set('settings.gatewayHost', 'Gateway Host');
  m.set('settings.gatewayHostPlaceholder', '192.168.1.100 or hostname');
  m.set('settings.port', 'Port');
  m.set('settings.useTls', 'Use TLS (wss://)');
  m.set('settings.token', 'Token');
  m.set('settings.tokenDesc', 'Shared token from your OpenClaw Gateway');
  m.set('settings.tokenPlaceholder', 'e.g. d71a61ab...');
  m.set('settings.password', 'Password (optional)');
  m.set('settings.passwordPlaceholder', 'Gateway password');
  m.set('settings.status', 'Status');
  m.set('settings.connect', 'Connect');
  m.set('settings.disconnect', 'Disconnect');
  m.set('settings.connected', 'Connected');
  m.set('settings.connecting', 'Connecting...');
  m.set('settings.disconnected', 'Disconnected');
  m.set('settings.reconnecting', 'Reconnecting...');
  m.set('settings.connectionError', 'Connection Error');
  m.set('settings.pairingPending', 'Awaiting Pairing Approval');
  m.set('settings.parallelSessions', 'Parallel Sessions');
  m.set('settings.parallelSessionsDesc', 'âš ï¸ Higher values increase token consumption rate');
  m.set('settings.caps', 'Node Capabilities');
  m.set('settings.capLocation', 'Location (GPS)');
  m.set('settings.capCamera', 'Camera (Photo/Video)');
  m.set('settings.capCanvas', 'Canvas (WebView)');
  m.set('settings.capScreen', 'Screenshot/Recording');
  m.set('settings.capNotification', 'Notifications');
  m.set('settings.capMicrophone', 'Microphone (Record)');
  m.set('settings.capSpeaker', 'Speaker (TTS/Playback)');
  m.set('settings.capEmail', 'Email (Send)');
  m.set('settings.about', 'ABOUT');
  m.set('settings.app', 'App');
  m.set('settings.appValue', 'ClawdBot for HarmonyOS');
  m.set('settings.appName', 'App Name');
  m.set('settings.version', 'Version');
  m.set('settings.developer', 'Developer');
  m.set('settings.basedOn', 'Based on');
  m.set('settings.platform', 'Platform');
  m.set('settings.systemStatus', 'System Status');
  m.set('settings.gatewayStatus', 'Gateway');
  m.set('settings.activeSessions', 'Active Sessions');
  m.set('settings.memoryUsage', 'Memory');
  m.set('settings.tokenUsage', 'Tokens');
  m.set('settings.save', 'Save Settings');
  m.set('settings.saved', 'Settings saved');
  m.set('settings.saveFailed', 'Save failed: ');
  m.set('settings.enterHost', 'Please enter gateway host');
  m.set('settings.language', 'Language');
  m.set('settings.languageDesc', 'Interface display language');
  m.set('settings.langZh', 'ä¸­æ–‡');
  m.set('settings.langEn', 'English');

  // Settings - Assistant
  m.set('settings.assistant', 'AI ASSISTANT');
  m.set('settings.assistantName', 'Assistant Name');
  m.set('settings.assistantNamePlaceholder', 'Enter assistant name');
  m.set('settings.assistantAvatar', 'Avatar');
  m.set('settings.assistantAvatarChange', 'Tap to change avatar');
  m.set('settings.gatewayBot', 'Gateway Bot (Connected)');

  // LogPage
  m.set('tab.logs', 'Logs');
  m.set('log.title', 'Runtime Logs');
  m.set('log.clear', 'Clear');
  m.set('log.entries', 'entries');
  m.set('log.empty', 'No logs yet');
  m.set('log.copy', 'Copy');
  m.set('log.export', 'Export');
  m.set('log.copied', 'Copied to clipboard');
  m.set('log.exported', 'Exported to file');
  m.set('log.exportFail', 'Export failed');
  m.set('log.recording', 'Recording');
  m.set('log.readMore', 'Read more');
  m.set('log.showLess', 'Show less');
  m.set('log.filePath', 'File path');

  m.set('settings.gatewayAddress', 'Gateway Address');

  // Cron
  m.set('cron.executing', 'Executing scheduled task...');
  m.set('cron.created', 'Scheduled task created');
  m.set('cron.cancelled', 'Scheduled task cancelled');
  m.set('cron.notFound', 'Scheduled task not found');
  m.set('cron.noTasks', 'No scheduled tasks');

  // Talk Mode
  m.set('chat.talkMode', 'Talk Mode');
  m.set('chat.talkModeOn', 'Talk mode activated');
  m.set('chat.talkModeOff', 'Talk mode deactivated');
  m.set('chat.talkListening', 'Listening...');
  m.set('chat.talkRecognizing', 'Recognizing');
  m.set('chat.talkThinking', 'Thinking...');
  m.set('chat.talkSpeaking', 'Speaking...');
  m.set('chat.talkSilence', 'Silence timeout, talk mode ended');

  // Custom Skills
  m.set('skills.custom', 'Custom');
  m.set('skills.customSkill', 'Custom Skill');
  m.set('skills.created', 'Skill created');
  m.set('skills.updated', 'Skill updated');
  m.set('skills.deleted', 'Skill deleted');

  // Email / IMAP
  m.set('settings.email', 'EMAIL / IMAP & SMTP');
  m.set('settings.emailEnabled', 'Enable Email');
  m.set('settings.emailEnabledDesc', 'Read emails via IMAP, send via SMTP');
  m.set('settings.imapHost', 'IMAP Server');
  m.set('settings.imapPort', 'Port');
  m.set('settings.imapUser', 'Email Address');
  m.set('settings.imapPass', 'Password / App Password');
  m.set('settings.smtpHost', 'SMTP Server');
  m.set('settings.smtpPort', 'Port');
  m.set('settings.emailTest', 'Test Connection');
  m.set('settings.emailTesting', 'Connecting...');
  m.set('settings.emailTestOk', 'Connection successful');
  m.set('settings.emailTestFail', 'Connection failed: ');

  // Settings tabs
  m.set('settings.tabStandalone', 'Standalone');
  m.set('settings.tabNode', 'Node Mode');
  m.set('settings.tabService', 'Service Mode');
  m.set('settings.tabModel', 'Model');

  // Profiles
  m.set('settings.profiles', 'Profiles');
  m.set('settings.profileSave', 'Save Current Config');
  m.set('settings.profileLoad', 'Load');
  m.set('settings.profileDelete', 'Delete');
  m.set('settings.profileName', 'Profile Name');
  m.set('settings.profileNamePlaceholder', 'Enter profile name...');
  m.set('settings.profileSaved', 'Profile saved');
  m.set('settings.profileLoaded', 'Profile loaded');
  m.set('settings.profileDeleted', 'Profile deleted');
  m.set('settings.profileEmpty', 'No saved profiles');

  // Feishu Bot
  m.set('settings.feishu', 'FEISHU BOT');
  m.set('settings.feishuEnabled', 'Enable Feishu Bot');
  m.set('settings.feishuEnabledDesc', 'Receive Feishu messages via WebSocket and auto-reply');
  m.set('settings.feishuAppId', 'App ID');
  m.set('settings.feishuAppSecret', 'App Secret');
  m.set('settings.feishuTest', 'Test Connection');
  m.set('settings.feishuTesting', 'Connecting...');
  m.set('settings.feishuTestOk', 'Connected');
  m.set('settings.feishuTestFail', 'Connection failed: ');
  m.set('chat.feishuMessage', 'Feishu Message');
  m.set('chat.feishuReply', 'Feishu Reply');

  // Connection states
  m.set('state.offline', 'Offline');
  m.set('state.connecting', 'Connectingâ€¦');
  m.set('state.connected', 'Connected');
  m.set('state.reconnecting', 'Reconnectingâ€¦');
  m.set('state.error', 'Error');

  // Sessions
  m.set('session.title', 'Chats');
  m.set('session.new', 'New Chat');
  m.set('session.default', 'Default Chat');
  m.set('session.close', 'Close');
  m.set('session.closeConfirm', 'Close this conversation? History will be preserved.');
  m.set('session.closed', 'Closed');
  m.set('session.closedTag', 'Closed');
  m.set('session.delete', 'Delete');
  m.set('session.deleteConfirm', 'Delete this conversation?');
  m.set('session.deleted', 'Deleted');
  m.set('session.rename', 'Rename');
  m.set('session.renameTitle', 'Rename Conversation');
  m.set('session.renamePlaceholder', 'Enter new name...');
  m.set('session.pin', 'Pin');
  m.set('session.unpin', 'Unpin');
  m.set('session.clear', 'Clear Messages');
  m.set('session.clearConfirm', 'Clear all messages in this conversation?');
  m.set('session.cleared', 'Cleared');
  m.set('session.cannotDeleteLast', 'Cannot delete the last conversation');
  m.set('memory.deleteSession', 'Delete Conversation');
  m.set('memory.deleteSessionConfirm', 'Permanently delete this conversation and all its messages? This cannot be undone.');

  // Queue
  m.set('queue.pending', 'Pending');
  m.set('queue.failed', 'Failed');
  m.set('queue.resend', 'Resend');
  m.set('queue.delete', 'Delete');
  m.set('queue.resendAll', 'Resend All');
  m.set('queue.clearAll', 'Clear All');
  m.set('queue.banner', '{0} queued message(s)');

  // Session Management
  m.set('settings.sessionManagement', 'SESSION');
  m.set('settings.parallelSessions', 'Parallel Sessions');
  m.set('settings.parallelSessionsDesc', 'Allow multiple sessions to chat with AI simultaneously');
  m.set('settings.idleTimeout', 'Idle Timeout');
  m.set('settings.idleTimeoutDesc', 'Sessions inactive for this duration will auto-close');
  m.set('settings.minutes', 'min');

  // Voiceprint
  m.set('voiceprint.title', 'Voiceprint');
  m.set('voiceprint.speakerCount', 'speaker(s)');
  m.set('voiceprint.empty', 'No registered voiceprints');
  m.set('voiceprint.samples', 'sample(s)');
  m.set('voiceprint.remove', 'Remove');
  m.set('voiceprint.enroll', 'Register New Voiceprint');
  m.set('voiceprint.enterName', 'Enter speaker name');
  m.set('voiceprint.namePlaceholder', 'e.g. John');
  m.set('voiceprint.nameExists', 'Name already registered');
  m.set('voiceprint.next', 'Next');
  m.set('voiceprint.cancel', 'Cancel');
  m.set('voiceprint.recordStep', 'Record Voice Sample');
  m.set('voiceprint.readAloud', 'Please read the following text aloud:');
  m.set('voiceprint.recording', 'Recording...');
  m.set('voiceprint.startRecord', 'Start Recording');
  m.set('voiceprint.tooShort', 'Recording too short, please retry');
  m.set('voiceprint.sampleOk', 'Sample recorded successfully');
  m.set('voiceprint.processing', 'Processing...');
  m.set('voiceprint.success', 'Voiceprint registered');
  m.set('voiceprint.enrollFailed', 'Voiceprint registration failed');
  m.set('voiceprint.recordFailed', 'Recording failed');
  m.set('voiceprint.done', 'Done');
  m.set('voiceprint.deleteConfirm', 'Delete voiceprint for {0}?');
  m.set('voiceprint.confirmDelete', 'Confirm Delete');
  m.set('voiceprint.removed', 'Voiceprint removed');
  m.set('settings.voiceprint', 'VOICEPRINT');
  m.set('settings.voiceprintDesc', 'Local voiceprint enrollment & identification');

  // Silent Mode
  m.set('silent.title', 'Silent Recorder');
  m.set('silent.start', 'Start Recording');
  m.set('silent.stop', 'Stop Recording');
  m.set('silent.recording', 'Recording...');
  m.set('silent.empty', 'No conversations recorded');
  m.set('silent.entries', 'segment(s)');
  m.set('silent.summary', 'Summary');
  m.set('silent.transcript', 'Transcript');
  m.set('silent.participants', 'Participants');
  m.set('silent.duration', 'Duration');
  m.set('silent.deleteConfirm', 'Delete this conversation record?');
  m.set('silent.deleted', 'Deleted');
  m.set('silent.noSpeech', 'No speech detected');
  m.set('silent.summarizing', 'Generating summary...');
  m.set('silent.completed', 'Completed');
  m.set('silent.error', 'Recording error');
  m.set('settings.silentMode', 'SILENT RECORDER');
  m.set('settings.silentModeDesc', 'Background recording with speaker ID and transcription');

  return m;
}

const zhMap: Map<string, string> = buildZh();
const enMap: Map<string, string> = buildEn();

const heartbeatGreetingsZh: string[] = [
  'ä½ æ€ä¹ˆæ ·å‘€ï¼Ÿ',
  'ä¸€åˆ‡éƒ½å¥½å—ï¼Ÿ',
  'åœ¨å¿™ä»€ä¹ˆå‘¢ï¼Ÿ',
  'ä»Šå¤©è¿‡å¾—æ€ä¹ˆæ ·ï¼Ÿ',
  'æœ‰ä»€ä¹ˆéœ€è¦å¸®å¿™çš„å—ï¼Ÿ',
];

const heartbeatGreetingsEn: string[] = [
  "How's it going?",
  'Everything okay?',
  "What's up?",
  'How are you doing?',
  'Need any help?',
];

/**
 * Global language state singleton.
 * Pages observe lang changes via listener pattern.
 */
export class I18n {
  private static currentLang: LangCode = 'zh';
  private static listeners: Array<() => void> = [];

  static init(lang: LangCode): void {
    I18n.currentLang = lang;
  }

  static get lang(): LangCode {
    return I18n.currentLang;
  }

  static setLang(lang: LangCode): void {
    I18n.currentLang = lang;
    for (let listener of I18n.listeners) {
      try { listener(); } catch { /* ignore */ }
    }
  }

  static addListener(fn: () => void): void {
    I18n.listeners.push(fn);
  }

  static removeListener(fn: () => void): void {
    let idx = I18n.listeners.indexOf(fn);
    if (idx >= 0) {
      I18n.listeners.splice(idx, 1);
    }
  }

  /** Check if text is a HEARTBEAT_OK message and return a friendly greeting, or empty string if not. */
  static getHeartbeatGreeting(text: string): string {
    let trimmed = text.trim();
    if (trimmed === 'HEARTBEAT_OK' || trimmed === 'heartbeat_ok') {
      let greetings = I18n.currentLang === 'zh' ? heartbeatGreetingsZh : heartbeatGreetingsEn;
      let idx = Math.floor(Math.random() * greetings.length);
      return greetings[idx];
    }
    return '';
  }

  /** Get translated string by key. */
  static t(key: string): string {
    let map: Map<string, string> = I18n.currentLang === 'zh' ? zhMap : enMap;
    let val = map.get(key);
    if (val !== undefined) {
      return val;
    }
    // Fallback to English
    let enVal = enMap.get(key);
    if (enVal !== undefined) {
      return enVal;
    }
    return key;
  }
}

/** Shorthand function for I18n.t() */
export function t(key: string): string {
  return I18n.t(key);
}
