# Commit Verification Tests

每次提交前按此清单验证主要功能。标记 `[x]` 表示通过。

---

## 1. 基础导航

- [ ] 启动 App，顶部显示 OpenClaw 品牌 + 版本号
- [ ] 底部 5 个 Tab（聊天/技能/记忆/设置/日志）均可切换
- [ ] Tab 切换动画流畅

## 2. 聊天核心

### 2.1 发送/接收
- [ ] 发送文字消息，右侧橙色气泡显示
- [ ] 收到助手回复，左侧灰色气泡 + 头像显示
- [ ] 助手回复支持 Markdown 渲染
- [ ] 发送中显示加载动画（三点跳动）

### 2.2 图片
- [ ] 点击附件按钮，选择单张图片发送，气泡内显示缩略图
- [ ] 选择多张图片，2 列网格布局显示
- [ ] 点击图片可放大查看

### 2.3 文件附件
- [ ] 选择文件发送，气泡内显示文件名 + 图标

### 2.4 语音
- [ ] 点击录音按钮，录制语音消息
- [ ] 录音中显示波形动画
- [ ] 发送后气泡显示音频指示条
- [ ] 点击语音气泡可播放

### 2.5 消息交互
- [ ] 长按消息弹出浮窗菜单（复制 / 引用回复）
- [ ] 菜单为紧凑 popup 样式（非系统大弹窗）
- [ ] 点击"复制"，内容复制到剪贴板，提示"已复制"
- [ ] 点击"引用回复"，输入框上方显示引用预览
- [ ] 发送引用回复后，引用条显示在气泡**外部下方**，灰色小条样式
- [ ] 引用条内容：`名字: 被引用文字`，单行省略

### 2.6 Talk Mode（语音对话）
- [ ] 点击电话图标进入 Talk Mode
- [ ] 录音中显示计时器 + 挂断按钮
- [ ] 图标尺寸正确（28x28）

## 3. 多会话管理

- [ ] 点击左上菜单打开 Session Drawer
- [ ] 点击 "+" 创建新会话
- [ ] 切换会话，消息独立不串
- [ ] 长按会话弹出菜单：重命名 / 置顶 / 清空 / 删除
- [ ] 重命名后标题更新
- [ ] 置顶后显示 📌 标记
- [ ] 会话列表显示消息数量和最后一条消息预览

## 4. 技能页面

- [ ] 显示所有技能列表（名称/描述/图标/分类）
- [ ] 分类筛选有效（全部/自动化/生产力/智能家居/媒体/自定义）
- [ ] 开关切换启用/禁用技能
- [ ] 顶部统计数字（总数/启用数/工具数）随开关更新
- [ ] 自定义技能显示删除按钮，内置技能不显示

## 5. 记忆页面

- [ ] 点击添加按钮，选择类型（事实/偏好/指令），输入内容保存
- [ ] 记忆条目显示彩色类型标签（蓝=事实/紫=偏好/橙=指令）
- [ ] 按类型筛选有效
- [ ] 可删除单条记忆
- [ ] 可清空全部记忆（带确认弹窗）
- [ ] 每条记忆显示创建时间

## 6. 设置页面

### 6.1 LLM 配置
- [ ] 切换 Provider（OpenRouter/Anthropic/OpenAI/SiliconFlow/Local/Custom）
- [ ] 模型列表随 Provider 切换
- [ ] API Key 输入 + 密码可见切换
- [ ] 温度滑块可调

### 6.2 语言
- [ ] 中英文切换，全局 UI 文字随之变化
- [ ] 重启后语言设置保持

### 6.3 网关连接（Node 模式）
- [ ] 输入 Host/Port/Token，点击连接
- [ ] 状态指示器变为"在线"（绿色）
- [ ] 显示 Gateway Bot 名称/头像/Emoji
- [ ] 点击断开，状态变为"离线"
- [ ] 能力开关（位置/相机/画布/截屏/通知/麦克风/扬声器）各自可切换

### 6.4 助手自定义
- [ ] 设置自定义助手名称
- [ ] 选择头像图片
- [ ] Chat 页面显示自定义名称和头像

### 6.5 设置配置文件
- [ ] 保存当前设置为命名 Profile
- [ ] 加载已保存 Profile，设置恢复
- [ ] 删除 Profile

## 7. 日志页面

- [ ] 开启日志记录开关
- [ ] 日志条目显示时间戳（HH:MM:SS.mmm）
- [ ] 日志级别标签彩色（红=ERROR / 橙=WARN / 蓝=INFO / 灰=DEBUG）
- [ ] 按级别筛选有效
- [ ] 长日志条目可展开/折叠
- [ ] "复制全部"按钮有效
- [ ] "导出"按钮生成 .txt 文件并跳转查看器
- [ ] 浮动滚动按钮（顶部/底部）有效

## 8. 网关设备能力（需连接 Gateway）

- [ ] **相机** — 远程拍照，照片出现在聊天
- [ ] **麦克风** — 远程录音，音频出现在聊天
- [ ] **扬声器** — 远程 TTS 播报 / 播放音频
- [ ] **位置** — 获取 GPS 定位，返回经纬度
- [ ] **截屏** — 截取当前屏幕
- [ ] **画布** — 打开 WebView 显示网页
- [ ] **通知** — 发送系统通知到设备
- [ ] **邮件** — 通过 SMTP 发送邮件
- [ ] **执行审批** — 弹出审批对话框（批准/拒绝 + 超时）

## 9. 数据持久化

- [ ] 关闭 App 后重新打开，聊天记录保留
- [ ] 设置（API Key/Provider/语言等）保留
- [ ] 记忆条目保留
- [ ] 会话列表保留
- [ ] 助手名称/头像保留

## 10. 错误处理

- [ ] 无效 API Key 发送消息，显示错误提示
- [ ] 网关连接失败（错误 Host），显示错误状态
- [ ] 权限被拒绝时显示清晰提示

---

> 最后更新: 2026-02-15 | 对应版本: v2.10.x
